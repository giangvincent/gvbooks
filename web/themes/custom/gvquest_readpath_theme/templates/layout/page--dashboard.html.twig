{{ attach_library('gvquest_readpath_theme/navbar') }}

{% set current_route = app.request.attributes.get('_route') %}
{% set nav_links = [
  {
    'title': 'Home',
    'url': path('<front>'),
    'active': current_route == '<front>'
  },
  {
    'title': 'Dashboard',
    'url': path('view.my_daily_reading.page_1'),
    'active': current_route == 'view.my_daily_reading.page_1'
  },
  {
    'title': 'Analytics',
    'url': path('gvquest_analytics.dashboard'),
    'active': current_route == 'gvquest_analytics.dashboard'
  },
  {
    'title': 'Streaks',
    'url': path('gvquest_streaks.dashboard'),
    'active': current_route starts with 'gvquest_streaks.'
  }
] %}

{% include '@gvquest_readpath_theme/includes/site-header.html.twig' with {
  links: nav_links,
  site_name: site_name
} %}

<section class="sana-hero py-12 md:py-16">
  <div class="flex flex-col gap-4">
    <div class="sana-hero__eyebrow">{{ 'Your personal hub'|t }}</div>
    <h1 class="sana-hero__title">{{ 'Daily Insights Dashboard'|t }}</h1>
    <p class="text-lg md:text-xl text-sana-muted max-w-3xl">{{ 'Stay on top of your reading journey with curated sessions, actionable streak insights, and highlights from your latest activity.'|t }}</p>
  </div>
</section>

<section class="sana-container pb-20">
  <div class="grid gap-12">
    {% if page.dashboard %}
      <div class="grid gap-6">
        {{ page.dashboard }}
      </div>
    {% endif %}

    {% if page.content %}
      <div class="grid gap-10">
        {{ page.content }}
      </div>
    {% endif %}
  </div>
</section>

{% include '@gvquest_readpath_theme/includes/site-footer.html.twig' with { site_name: site_name } %}
